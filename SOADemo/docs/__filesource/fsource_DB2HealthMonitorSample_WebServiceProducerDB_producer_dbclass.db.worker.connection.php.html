<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
<!--
    @disclaimer
            Any references or links in this document to non-IBM Web sites are provided for convenience 
            only and do not in any manner serve as an endorsement of those non-IBM Web sites or their 
            owners. The materials at the non-IBM Web sites are not owned or licensed by IBM and use of 
            those non-IBM Web sites is at your own risk. IBM makes no representations, warranties, or 
            other commitments whatsoever about any non-IBM Web sites or third-party resources that may 
            be referenced, accessible from, or linked from this document. In addition, IBM is not a 
            party to or responsible for any transactions you may enter into with third parties, even if 
            you learn of such parties (or use a link to such parties) from this document. You are 
            responsible for compliance with any license terms or other obligations for use of the 
            non-IBM Web sites in respect of your use of those non-IBM Web sites. You acknowledge and 
            agree that IBM is not responsible for the availability of such external sites or resources, 
            and is not responsible or liable for any content, services, products, or other materials on 
            or available from those sites or resources. 
-->  
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>File Source for class.db.worker.connection.php</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
						<h1>Source for file class.db.worker.connection.php</h1>
<p>Documentation is available at <a href="../DB2HealthMonitorSample/WebServiceProducerDB/_producer_db---class.db.worker.connection.php.html">class.db.worker.connection.php</a></p>
<div class="src-code">
<div class="src-code"><ol><li><div class="src-line"><a name="a1"></a><span class="src-php">&lt;?php</span></div></li>
<li><div class="src-line"><a name="a2"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a3"></a><span class="src-doc">/**</span></div></li>
<li><div class="src-line"><a name="a4"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-tag">@project</span><span class="src-doc">&nbsp;PHP&nbsp;DBConnectionWorker&nbsp;Class</span></div></li>
<li><div class="src-line"><a name="a5"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-coretag">@author</span><span class="src-doc">&nbsp;Rizwan&nbsp;Tejpar&nbsp;&lt;rtejpar@ca.ibm.com&gt;</span></div></li>
<li><div class="src-line"><a name="a6"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-coretag">@version</span><span class="src-doc">&nbsp;1.0</span></div></li>
<li><div class="src-line"><a name="a7"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-tag">@updated</span><span class="src-doc">&nbsp;07/22/07</span></div></li>
<li><div class="src-line"><a name="a8"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-tag">@verified</span><span class="src-doc">&nbsp;07/22/07&nbsp;(Zend&nbsp;Studio)</span></div></li>
<li><div class="src-line"><a name="a9"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-tag">@browser</span><span class="src-doc">&nbsp;IE6,&nbsp;IE7,&nbsp;Firefox&nbsp;1.5,&nbsp;Firefox&nbsp;2</span></div></li>
<li><div class="src-line"><a name="a10"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-tag">@disclaimer</span></div></li>
<li><div class="src-line"><a name="a11"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Any&nbsp;references&nbsp;or&nbsp;links&nbsp;in&nbsp;this&nbsp;document&nbsp;to&nbsp;non-IBM&nbsp;Web&nbsp;sites&nbsp;are&nbsp;provided&nbsp;for&nbsp;convenience</span></div></li>
<li><div class="src-line"><a name="a12"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only&nbsp;and&nbsp;do&nbsp;not&nbsp;in&nbsp;any&nbsp;manner&nbsp;serve&nbsp;as&nbsp;an&nbsp;endorsement&nbsp;of&nbsp;those&nbsp;non-IBM&nbsp;Web&nbsp;sites&nbsp;or&nbsp;their</span></div></li>
<li><div class="src-line"><a name="a13"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;owners.&nbsp;The&nbsp;materials&nbsp;at&nbsp;the&nbsp;non-IBM&nbsp;Web&nbsp;sites&nbsp;are&nbsp;not&nbsp;owned&nbsp;or&nbsp;licensed&nbsp;by&nbsp;IBM&nbsp;and&nbsp;use&nbsp;of</span></div></li>
<li><div class="src-line"><a name="a14"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;those&nbsp;non-IBM&nbsp;Web&nbsp;sites&nbsp;is&nbsp;at&nbsp;your&nbsp;own&nbsp;risk.&nbsp;IBM&nbsp;makes&nbsp;no&nbsp;representations,&nbsp;warranties,&nbsp;or</span></div></li>
<li><div class="src-line"><a name="a15"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;commitments&nbsp;whatsoever&nbsp;about&nbsp;any&nbsp;non-IBM&nbsp;Web&nbsp;sites&nbsp;or&nbsp;third-party&nbsp;resources&nbsp;that&nbsp;may</span></div></li>
<li><div class="src-line"><a name="a16"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;referenced,&nbsp;accessible&nbsp;from,&nbsp;or&nbsp;linked&nbsp;from&nbsp;this&nbsp;document.&nbsp;In&nbsp;addition,&nbsp;IBM&nbsp;is&nbsp;not&nbsp;a</span></div></li>
<li><div class="src-line"><a name="a17"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;party&nbsp;to&nbsp;or&nbsp;responsible&nbsp;for&nbsp;any&nbsp;transactions&nbsp;you&nbsp;may&nbsp;enter&nbsp;into&nbsp;with&nbsp;third&nbsp;parties,&nbsp;even&nbsp;if</span></div></li>
<li><div class="src-line"><a name="a18"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;you&nbsp;learn&nbsp;of&nbsp;such&nbsp;parties&nbsp;(or&nbsp;use&nbsp;a&nbsp;link&nbsp;to&nbsp;such&nbsp;parties)&nbsp;from&nbsp;this&nbsp;document.&nbsp;You&nbsp;are</span></div></li>
<li><div class="src-line"><a name="a19"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;responsible&nbsp;for&nbsp;compliance&nbsp;with&nbsp;any&nbsp;license&nbsp;terms&nbsp;or&nbsp;other&nbsp;obligations&nbsp;for&nbsp;use&nbsp;of&nbsp;the</span></div></li>
<li><div class="src-line"><a name="a20"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;non-IBM&nbsp;Web&nbsp;sites&nbsp;in&nbsp;respect&nbsp;of&nbsp;your&nbsp;use&nbsp;of&nbsp;those&nbsp;non-IBM&nbsp;Web&nbsp;sites.&nbsp;You&nbsp;acknowledge&nbsp;and</span></div></li>
<li><div class="src-line"><a name="a21"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;agree&nbsp;that&nbsp;IBM&nbsp;is&nbsp;not&nbsp;responsible&nbsp;for&nbsp;the&nbsp;availability&nbsp;of&nbsp;such&nbsp;external&nbsp;sites&nbsp;or&nbsp;resources,</span></div></li>
<li><div class="src-line"><a name="a22"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;is&nbsp;not&nbsp;responsible&nbsp;or&nbsp;liable&nbsp;for&nbsp;any&nbsp;content,&nbsp;services,&nbsp;products,&nbsp;or&nbsp;other&nbsp;materials&nbsp;on</span></div></li>
<li><div class="src-line"><a name="a23"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;available&nbsp;from&nbsp;those&nbsp;sites&nbsp;or&nbsp;resources.</span></div></li>
<li><div class="src-line"><a name="a24"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-tag">@disclaimer</span></div></li>
<li><div class="src-line"><a name="a25"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(c)&nbsp;Copyright&nbsp;IBM&nbsp;Corp.&nbsp;2007&nbsp;All&nbsp;rights&nbsp;reserved.</span></div></li>
<li><div class="src-line"><a name="a26"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a27"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;following&nbsp;sample&nbsp;of&nbsp;source&nbsp;code&nbsp;(&quot;Sample&quot;)&nbsp;is&nbsp;owned&nbsp;by&nbsp;International&nbsp;Business&nbsp;Machines</span></div></li>
<li><div class="src-line"><a name="a28"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Corporation&nbsp;or&nbsp;one&nbsp;of&nbsp;its&nbsp;subsidiaries&nbsp;(&quot;IBM&quot;)&nbsp;and&nbsp;is&nbsp;copyrighted&nbsp;and&nbsp;licensed,&nbsp;not&nbsp;sold.</span></div></li>
<li><div class="src-line"><a name="a29"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a30"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;Sample&nbsp;is&nbsp;not&nbsp;part&nbsp;of&nbsp;any&nbsp;standard&nbsp;IBM&nbsp;product.&nbsp;You&nbsp;may&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute</span></div></li>
<li><div class="src-line"><a name="a31"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;Sample&nbsp;in&nbsp;any&nbsp;form&nbsp;without&nbsp;payment&nbsp;to&nbsp;IBM,&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;assisting&nbsp;you&nbsp;in&nbsp;the</span></div></li>
<li><div class="src-line"><a name="a32"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;development&nbsp;of&nbsp;your&nbsp;applications.</span></div></li>
<li><div class="src-line"><a name="a33"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a34"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;Sample&nbsp;code&nbsp;is&nbsp;provided&nbsp;to&nbsp;you&nbsp;on&nbsp;an&nbsp;&quot;AS&nbsp;IS&quot;&nbsp;basis,&nbsp;without&nbsp;warranty&nbsp;of&nbsp;any&nbsp;kind.</span></div></li>
<li><div class="src-line"><a name="a35"></a><span class="src-doc">&nbsp;*</span></div></li>
<li><div class="src-line"><a name="a36"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IBM&nbsp;HEREBY&nbsp;EXPRESSLY&nbsp;DISCLAIMS&nbsp;ALL&nbsp;WARRANTIES,&nbsp;EITHER&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED,&nbsp;INCLUDING,&nbsp;BUT&nbsp;NOT</span></div></li>
<li><div class="src-line"><a name="a37"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LIMITED&nbsp;TO,&nbsp;THE&nbsp;IMPLIED&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY&nbsp;AND&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE.</span></div></li>
<li><div class="src-line"><a name="a38"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a39"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some&nbsp;jurisdictions&nbsp;do&nbsp;not&nbsp;allow&nbsp;for&nbsp;the&nbsp;exclusion&nbsp;or&nbsp;limitation&nbsp;of&nbsp;implied&nbsp;warranties,&nbsp;so&nbsp;the</span></div></li>
<li><div class="src-line"><a name="a40"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;above&nbsp;limitations&nbsp;or&nbsp;exclusions&nbsp;may&nbsp;not&nbsp;apply&nbsp;to&nbsp;you.&nbsp;IBM&nbsp;shall&nbsp;not&nbsp;be&nbsp;liable&nbsp;for&nbsp;any&nbsp;damages</span></div></li>
<li><div class="src-line"><a name="a41"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;you&nbsp;suffer&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;using,&nbsp;copying,&nbsp;modifying&nbsp;or&nbsp;distributing&nbsp;the&nbsp;Sample,&nbsp;even&nbsp;if&nbsp;IBM</span></div></li>
<li><div class="src-line"><a name="a42"></a><span class="src-doc">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;has&nbsp;been&nbsp;advised&nbsp;of&nbsp;the&nbsp;possibility&nbsp;of&nbsp;such&nbsp;damages.</span></div></li>
<li><div class="src-line"><a name="a43"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-coretag">@package</span><span class="src-doc">&nbsp;DB2HealthMonitorSample</span></div></li>
<li><div class="src-line"><a name="a44"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-coretag">@subpackage</span><span class="src-doc">&nbsp;WebServiceProducerDB</span></div></li>
<li><div class="src-line"><a name="a45"></a><span class="src-doc">&nbsp;*/</span></div></li>
<li><div class="src-line"><a name="a46"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a47"></a><span class="src-doc">/**</span></div></li>
<li><div class="src-line"><a name="a48"></a><span class="src-doc">&nbsp;*&nbsp;A&nbsp;class&nbsp;that&nbsp;provides&nbsp;database&nbsp;connection&nbsp;and&nbsp;is&nbsp;able&nbsp;to&nbsp;free&nbsp;the&nbsp;connection&nbsp;when&nbsp;it&nbsp;is&nbsp;not&nbsp;longer&nbsp;needed.</span></div></li>
<li><div class="src-line"><a name="a49"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-coretag">@static</span></div></li>
<li><div class="src-line"><a name="a50"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-coretag">@package</span><span class="src-doc">&nbsp;DB2HealthMonitorSample</span></div></li>
<li><div class="src-line"><a name="a51"></a><span class="src-doc">&nbsp;*&nbsp;</span><span class="src-doc-coretag">@subpackage</span><span class="src-doc">&nbsp;WebServiceProducerDB</span></div></li>
<li><div class="src-line"><a name="a52"></a><span class="src-doc">&nbsp;*/</span></div></li>
<li><div class="src-line"><a name="a53"></a><span class="src-key">class&nbsp;</span><a href="../DB2HealthMonitorSample/WebServiceProducerDB/DBConnectionWorker.html">DBConnectionWorker</a></div></li>
<li><div class="src-line"><a name="a54"></a><span class="src-sym">{&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a55"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-doc">/**</span></div></li>
<li><div class="src-line"><a name="a56"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Attempts&nbsp;to&nbsp;establish&nbsp;a&nbsp;connection&nbsp;to&nbsp;the&nbsp;specified&nbsp;DB2&nbsp;database</span></div></li>
<li><div class="src-line"><a name="a57"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@access</span><span class="src-doc">&nbsp;public</span></div></li>
<li><div class="src-line"><a name="a58"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@param&nbsp;</span><span class="src-doc-type">string&nbsp;</span><span class="src-doc-var">$username&nbsp;</span><span class="src-doc">the&nbsp;username&nbsp;to&nbsp;use&nbsp;for&nbsp;connecting&nbsp;to&nbsp;the&nbsp;database</span></div></li>
<li><div class="src-line"><a name="a59"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@param&nbsp;</span><span class="src-doc-type">string&nbsp;</span><span class="src-doc-var">$password&nbsp;</span><span class="src-doc">the&nbsp;password&nbsp;that&nbsp;corresponds&nbsp;to&nbsp;the&nbsp;above&nbsp;username</span></div></li>
<li><div class="src-line"><a name="a60"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@param&nbsp;</span><span class="src-doc-type">string&nbsp;</span><span class="src-doc-var">$database&nbsp;</span><span class="src-doc">the&nbsp;name&nbsp;of&nbsp;the&nbsp;database&nbsp;to&nbsp;which&nbsp;a&nbsp;connection&nbsp;will&nbsp;be&nbsp;established</span></div></li>
<li><div class="src-line"><a name="a61"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@param&nbsp;</span><span class="src-doc-type">string&nbsp;</span><span class="src-doc-var">$port&nbsp;</span><span class="src-doc">the&nbsp;port&nbsp;number&nbsp;under&nbsp;which&nbsp;the&nbsp;database&nbsp;resides</span></div></li>
<li><div class="src-line"><a name="a62"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@return&nbsp;</span><span class="src-doc-type">mixed&nbsp;</span><span class="src-doc">(db2&nbsp;connection&nbsp;resource&nbsp;on&nbsp;success;&nbsp;</span><span class="src-doc-inlinetag">{@link&nbsp;DBError}</span><span class="src-doc">&nbsp;object&nbsp;on&nbsp;failure)</span></div></li>
<li><div class="src-line"><a name="a63"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span></div></li>
<li><div class="src-line"><a name="a64"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">public&nbsp;</span><span class="src-key">static&nbsp;</span><span class="src-key">function&nbsp;</span><a href="../DB2HealthMonitorSample/WebServiceProducerDB/DBConnectionWorker.html#methodDBConnect">DBConnect</a><span class="src-sym">(</span><span class="src-var">$username</span><span class="src-sym">,&nbsp;</span><span class="src-var">$password</span><span class="src-sym">,&nbsp;</span><span class="src-var">$database</span><span class="src-sym">,&nbsp;</span><span class="src-var">$port</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a65"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a66"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//Attempt&nbsp;to&nbsp;establish&nbsp;a&nbsp;connection&nbsp;to&nbsp;the&nbsp;DB2&nbsp;database&nbsp;(Assume&nbsp;Cataloged)</span></div></li>
<li><div class="src-line"><a name="a67"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$connection&nbsp;</span>=&nbsp;<span class="src-id">db2_pconnect</span><span class="src-sym">(</span><span class="src-var">$database</span><span class="src-sym">,&nbsp;</span><span class="src-var">$username</span><span class="src-sym">,&nbsp;</span><span class="src-var">$password</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a68"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a69"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//Attempt&nbsp;to&nbsp;establish&nbsp;a&nbsp;connection&nbsp;to&nbsp;the&nbsp;DB2&nbsp;database&nbsp;(Assume&nbsp;Uncataloged)</span></div></li>
<li><div class="src-line"><a name="a70"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$connection</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a71"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a72"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$connection_string&nbsp;</span>=&nbsp;<span class="src-str">&quot;</span><span class="src-str"><span class="src-id">DRIVER</span>=<span class="src-sym">{</span><span class="src-id">IBM</span>&nbsp;<span class="src-id">DB2</span>&nbsp;<span class="src-id">ODBC</span>&nbsp;<span class="src-id">DRIVER</span><span class="src-sym">}</span>;<span class="src-id">DATABASE</span>=<span class="src-var">$database</span>;</span><span class="src-str">&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a73"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$connection_string&nbsp;</span>.=&nbsp;<span class="src-str">&quot;</span><span class="src-str"><span class="src-id">HOSTNAME</span>=<span class="src-id">localhost</span>;<span class="src-id">PORT</span>=<span class="src-var">$port</span>;<span class="src-id">PROTOCOL</span>=<span class="src-id">TCPIP</span>;</span><span class="src-str">&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a74"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$connection_string&nbsp;</span>.=&nbsp;<span class="src-str">&quot;</span><span class="src-str"><span class="src-id">UID</span>=<span class="src-var">$username</span>;<span class="src-id">PWD</span>=<span class="src-var">$password</span></span><span class="src-str">&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a75"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a76"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$connection&nbsp;</span>=&nbsp;<span class="src-id">db2_pconnect</span><span class="src-sym">(</span><span class="src-var">$connection_string</span><span class="src-sym">,&nbsp;</span><span class="src-str">''</span><span class="src-sym">,&nbsp;</span><span class="src-str">''</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a77"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span><span class="src-comm">//Local&nbsp;Database&nbsp;Only</span></div></li>
<li><div class="src-line"><a name="a78"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a79"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-comm">//Ensure&nbsp;the&nbsp;connection&nbsp;succeeded</span></div></li>
<li><div class="src-line"><a name="a80"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><span class="src-var">$connection</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a81"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a82"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-key">new&nbsp;</span><span class="src-id"><a href="../DB2HealthMonitorSample/WebServiceProducerDB/DBError.html">DBError</a></span><span class="src-sym">(</span><span class="src-id"><a href="../DB2HealthMonitorSample/WebServiceProducerDB/DBError.html">DBError</a></span><span class="src-sym">::</span><span class="src-id">DB_CONNECTION_ERROR_CD</span><span class="src-sym">,</span><span class="src-id"><a href="../DB2HealthMonitorSample/WebServiceProducerDB/DBError.html">DBError</a></span><span class="src-sym">::</span><span class="src-id">DB_CONNECTION_ERROR_MSG</span><span class="src-sym">,</span></div></li>
<li><div class="src-line"><a name="a83"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">db2_conn_error</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">,&nbsp;</span><span class="src-id">db2_conn_errormsg</span><span class="src-sym">(</span><span class="src-sym">))</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a84"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a85"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a86"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-var">$connection</span><span class="src-sym">;</span></div></li>
<li><div class="src-line"><a name="a87"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a88"></a>&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line"><a name="a89"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-doc">/**</span></div></li>
<li><div class="src-line"><a name="a90"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Attempts&nbsp;to&nbsp;close&nbsp;the&nbsp;connection&nbsp;to&nbsp;the&nbsp;DB2&nbsp;database</span></div></li>
<li><div class="src-line"><a name="a91"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@access</span><span class="src-doc">&nbsp;public</span></div></li>
<li><div class="src-line"><a name="a92"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@param&nbsp;</span><span class="src-doc-type">reference&nbsp;</span><span class="src-doc-var">&amp;$connection&nbsp;</span><span class="src-doc">active&nbsp;connection&nbsp;to&nbsp;the&nbsp;DB2&nbsp;database</span></div></li>
<li><div class="src-line"><a name="a93"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;</span><span class="src-doc-coretag">@return&nbsp;</span><span class="src-doc-type">void&nbsp;</span></div></li>
<li><div class="src-line"><a name="a94"></a><span class="src-doc">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span></div></li>
<li><div class="src-line"><a name="a95"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">public&nbsp;</span><span class="src-key">static&nbsp;</span><span class="src-key">function&nbsp;</span><a href="../DB2HealthMonitorSample/WebServiceProducerDB/DBConnectionWorker.html#methodDBClose">DBClose</a><span class="src-sym">(</span><span class="src-sym">&amp;</span><span class="src-var">$connection</span><span class="src-sym">)</span></div></li>
<li><div class="src-line"><a name="a96"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">{&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a97"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">if</span><span class="src-sym">(</span><span class="src-sym">!</span><a href="http://www.php.net/is_null">is_null</a><span class="src-sym">(</span><span class="src-var">$connection</span><span class="src-sym">))</span></div></li>
<li><div class="src-line"><a name="a98"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">{</span></div></li>
<li><div class="src-line"><a name="a99"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-id">db2_close</span><span class="src-sym">(</span><span class="src-var">$connection</span><span class="src-sym">)</span><span class="src-sym">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line"><a name="a100"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a101"></a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a102"></a><span class="src-sym">}</span></div></li>
<li><div class="src-line"><a name="a103"></a>&nbsp;</div></li>
<li><div class="src-line"><a name="a104"></a><span class="src-php">?&gt;</span></div></li>
</ol></div>
</div>
	<p class="notes" id="credit">
		Documentation generated on Mon, 23 Jul 2007 13:27:53 -0400 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.3.2</a>
	</p>
	</body>
</html>