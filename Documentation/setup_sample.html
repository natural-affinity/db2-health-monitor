<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "/DTD/xhtml1-Strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- 
    @project XHTML 1.0 Strict Documentation
    @author Rizwan Tejpar <rtejpar@ca.ibm.com>
    @version 1.0
    @updated 07/22/07
    @verified 07/22/07 (W3C Validator)
    @browser IE6, IE7, Firefox 1.5, Firefox 2
    @disclaimer
            Any references or links in this document to non-IBM Web sites are provided for convenience 
            only and do not in any manner serve as an endorsement of those non-IBM Web sites or their 
            owners. The materials at the non-IBM Web sites are not owned or licensed by IBM and use of 
            those non-IBM Web sites is at your own risk. IBM makes no representations, warranties, or 
            other commitments whatsoever about any non-IBM Web sites or third-party resources that may 
            be referenced, accessible from, or linked from this document. In addition, IBM is not a 
            party to or responsible for any transactions you may enter into with third parties, even if 
            you learn of such parties (or use a link to such parties) from this document. You are 
            responsible for compliance with any license terms or other obligations for use of the 
            non-IBM Web sites in respect of your use of those non-IBM Web sites. You acknowledge and 
            agree that IBM is not responsible for the availability of such external sites or resources, 
            and is not responsible or liable for any content, services, products, or other materials on 
            or available from those sites or resources. 
    @disclaimer
            (c) Copyright IBM Corp. 2007 All rights reserved. 
  			
            The following sample of source code ("Sample") is owned by International Business Machines 
            Corporation or one of its subsidiaries ("IBM") and is copyrighted and licensed, not sold. 
  			
            The Sample is not part of any standard IBM product. You may use, copy, modify, and distribute 
            the Sample in any form without payment to IBM, for the purpose of assisting you in the 
            development of your applications.
  			
            The Sample code is provided to you on an "AS IS" basis, without warranty of any kind. 
  
            IBM HEREBY EXPRESSLY DISCLAIMS ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT 
            LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. 
             
            Some jurisdictions do not allow for the exclusion or limitation of implied warranties, so the 
            above limitations or exclusions may not apply to you. IBM shall not be liable for any damages 
            you suffer as a result of using, copying, modifying or distributing the Sample, even if IBM 
            has been advised of the possibility of such damages.    
  -->
	<head>
		<title>DB2 Health Monitor Sample Application for PHP</title>
		<link rel="stylesheet" type="text/css" href="./nav.css"></link>
	</head>
	
	<body style="margin:0px;">
		<table style="width:100%" cellspacing="0px" cellpadding="0px">
			<tr>
				<td rowspan="2" style="width:200px;background-image:url('./images/DB_nav_tile.gif');" valign="top"></td> 
				<td>
					<table style="width:100%" cellspacing="0" cellpadding="0">
		    			<tr class="bannerBG">
			  				<td>
								<img src="images/en_US/im_ban.bmp" alt="IBM Information Management" />
			  				</td>
			  				<td style="text-align:right">
								<img src="./images/FS_ban_IBMLogo.gif" alt="IBM" />
			  				</td>
		 				</tr>
					</table>
				</td>
			</tr>
			
   			<tr>
  				<td class="content">  
					<div class="content_width">
						<h1 class="head1">Installing and Configuring the Sample Application</h1>
						<br />
						<table cellspacing="0" cellpadding="0">
			  				<tr> 
								<td class="imageInText_placement">
									<img src="images/header_app_dev2.gif" alt="Configure Sample" />
								</td>
								<td class="tableText" style="padding-left:5px">						
									Once the DB2 sample database has been created and PHP has been installed and
									configured with DB2 server support, the DB2 Health Monitor Sample Application 
									can be installed and configured.					
								</td>
			  				</tr>
						</table>
						
						<h1 class="head2green">Installing the Code</h1>
						<p>
							To install the sample application, download and install the directory structure
							including all subdirectories and files (for example, HTML, PHP, and JavaScript) into
							the publicly visible Apache HTTP Server directory.  No directories need to be created.  
							Extract the ZIP package into the following directory:
							
							<br /><br />
							Assuming a default Windows installation: 
							<b>C:\Program Files\Apache Group\Apache2\htdocs\</b>
						</p>
						
						<h1 class="head2green">Downloadable Sample Application Files</h1>
						<p>
							<a href="db2_health_monitor_sample.zip">
								<img src="images/info_local_link.gif" style="border:0px" alt="Link to internal information" />
								DB2 Health Monitor Sample Application in ZIP format
							</a>
						</p>
						
						<h1 class="head2green">Configuring the Sample (config.xml)</h1>
						<p>
							To ensure that the 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Web Service Consumer
							</a> 
							can be configured without requiring changes to code other than HTML or XML, 
							an XML-based configuration file has been created.  This file stores information that 
							couples the 
							<a href="./architecture_files.html#WebServiceConsumerGUI" class="solo">
								Web Service Consumer GUI
							</a>
							login information to the 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Web Service Consumer
							</a>  
							and holds the address of the WSDL document
							for the Web service from which the data is being gathered.
							
							<br/><br />
							Here is the structure of the document, populated with sample information:					
						</p>
<pre style="background-color:lightgreen">
&lt;config&gt;
  &lt;login&gt;
    &lt;username_ctrl_nm&gt;txtUsername&lt;/username_ctrl_nm&gt;
    &lt;password_ctrl_nm&gt;pwdPassword&lt;/password_ctrl_nm&gt;
    &lt;port_ctrl_nm&gt;txtPort&lt;/port_ctrl_nm&gt;
    &lt;database_ctrl_nm&gt;txtDatabase&lt;/database_ctrl_nm&gt;
    &lt;language_ctrl_nm&gt;cmbLanguage&lt;/language_ctrl_nm&gt;
    &lt;function_ctrl_nm&gt;cmbFunction&lt;/function_ctrl_nm&gt;
  &lt;/login&gt;
  &lt;web_service&gt;
    &lt;wsdl_url&gt;
      http://localhost/SOADemo/producer/DB2Health_Report.wsdl
    &lt;/wsdl_url&gt;
  &lt;/web_service&gt;
&lt;/config&gt;
</pre>
						<p>
							The login information is all HTML input control information.  That is, it stores the names
							of the HTML input controls used on the login page from which
							the service input parameters are extracted once the HTML form has been submitted.  
							This allows a Website designer to alter the control names on the 
							<a href="./architecture_files.html#WebServiceConsumerGUI" class="solo">
								Web Service Consumer GUI 
							</a>
							without having to modify any PHP code.
							
							<br /><br />
							The Web service information stores the URL of the WSDL document
							from which the 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Web Service Consumer 
							</a>receives its health monitoring data.  This allows an administrator who does not have 
							PHP coding experience to modify the URL.
						</p>	
					
						<h1 class="head2green">Configuring the Sample (DB2Health_Report.wsdl)</h1>
						<p>
							Similarly, you can configure the WSDL document (another XML-based file) 
							on the 
							<a href="./architecture_files.html#WebServiceProducer" class="solo">
								Web Service Producer
							</a> 
							side to alter the location of the SOAP server for the Web
							service without having to change PHP code.						
						</p>							
						<p>
							The following example shows the relevant section 
							(containing the URL of of the SOAP server) of the WSDL document:							
						</p>
<pre style="background-color:lightgreen">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;
&lt;definitions&gt;
    ...
    ...
    ...
&lt;service name=&quot;DB2_HEALTH_MONITOR_SERVICE&quot;&gt;
    ...
    &lt;soap:address 
             location=&quot;http://localhost/SOADemo/producer/db2soa.soap.server.php&quot;
    &lt;/soap&gt;
&lt;/service&gt;
&lt;/definitions&gt;
</pre>										
							
						<h1 class="head2green">Directory Names and Structure</h1>
						<p>
							Regardless of the deployment model chosen (See 
							<a href="./architecture_deploy.html" class="solo">Deployment</a>),
							the directory structure must be maintained.  In other words, there must
							be a root directory containing the required packages subdirectories.  Although not all
							subdirectories are required on each server (depending on the deployment model chosen),
							all names and the layout must stay the same.
							
							<br /><br />
							The root directory for the sample application is the only exception to the naming rule stated 
							above.  The name can be changed so long as the change is reflected in the 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Web Service Consumer 
							</a>
							configuration file (<a href="./architecture_files.html#config.xml" class="solo">config.xml</a>) and the 
							<a href="./architecture_files.html#WebServiceProducer" class="solo">
								Web Service Producer
							</a>				
							WSDL (<a href="./architecture_files.html#DB2Health_Report.wsdl" class="solo">DB2Health_Report.wsdl</a>)
							file.  All other paths used within the code are relative.
						</p>
						
						<h1 class="head2green">File Names</h1>
						<p>
							All filenames must be preserved.  Changing a file's name would require a code change at
							multiple levels (HTML, JavaScript, and PHP).
						</p>
						
    					<p class="cp">
    					<br />
    						&copy; Copyright IBM Corp. 2007. All rights reserved.
							IBM&reg;, the IBM logo, DB2&reg;, AIX&reg;, and pureXML&trade; are 
							registered trademarks of International Business Machines Corporation in the 
							United States, other countries, or both.

							Zend and Zend Core are registered trademarks of Zend Technologies Limited,
							in the United States, other countries, or both.
							
							Mozilla&reg; and Firefox&reg; are registered trademarks of the Mozilla Foundation in the
							United States and other countries.
							
							Microsoft, Windows, Windows NT, Internet Explorer&reg;, and the Windows logo are 
							trademarks of Microsoft Corporation in the United States, other countries, or
							both.
							
							Linux is a registered trademark of Linus Torvalds in the United
							States, other countries, or both.
							
							Other company, product, or service names
							may be trademarks or service marks of others.
						</p>												
					</div>
				</td>
			</tr>			
		</table>
	
		<div class="navigation">
			<img src="images/FS_ban_mosaic.gif" alt="Data Management Mosiac imagery" />
    		<div class="container"> 
     			<div class="left-nav"> 
       				<div class="top-level"> 
        				<a href="./index.html">Welcome</a> 
        				<a href="./requirements.html">Requirements</a>
        				<a href="setup.html">Setup</a> 
          					<div class="second-level"> 
    							<a href="setup_database.html">Creating the Sample Database</a> 
		        				<a href="setup_php.html">Setting up PHP</a> 
          						<a class="active" href="setup_sample.html">Setting up the Sample</a> 
         						<a href="setup_testdb.html">Testing the Connection</a> 
         						<a href="setup_testservice.html">Testing the Service</a>        			           	          	
 		   					</div>		
		       			<a href="using.html">Using</a>
      	        		<div class="second-level"> 
	      	        		<a href="../SOADemo/index.html">DB2 Health Monitor Sample</a>         	          	
		       			</div>	 		   					
          				<a href="./architecture.html">Architecture</a> 
						<div class="second-level">           	
							<a href="./architecture_directory.html">Directory Structure</a>
		          			<a href="./architecture_files.html">File Breakdown</a> 
		          			<a href="./architecture_deploy.html">Deployment Models</a>
        		  			<a href="./architecture_errors.html">Error Handling</a> 
        		  			<a href="./architecture_widgets.html">JavaScript Widgets</a>          	
						</div>     					   		  	
          				<a href="lessons.html">Lessons Learned</a>
       				</div>
				</div>
			</div>
		</div>
	</body>
</html>