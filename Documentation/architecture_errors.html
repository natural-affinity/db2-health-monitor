<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "/DTD/xhtml1-Strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- 
    @project XHTML 1.0 Strict Documentation
    @author Rizwan Tejpar <rtejpar@ca.ibm.com>
    @version 1.0
    @updated 07/22/07
    @verified 07/22/07 (W3C Validator)
    @browser IE6, IE7, Firefox 1.5, Firefox 2
    @disclaimer
            Any references or links in this document to non-IBM Web sites are provided for convenience 
            only and do not in any manner serve as an endorsement of those non-IBM Web sites or their 
            owners. The materials at the non-IBM Web sites are not owned or licensed by IBM and use of 
            those non-IBM Web sites is at your own risk. IBM makes no representations, warranties, or 
            other commitments whatsoever about any non-IBM Web sites or third-party resources that may 
            be referenced, accessible from, or linked from this document. In addition, IBM is not a 
            party to or responsible for any transactions you may enter into with third parties, even if 
            you learn of such parties (or use a link to such parties) from this document. You are 
            responsible for compliance with any license terms or other obligations for use of the 
            non-IBM Web sites in respect of your use of those non-IBM Web sites. You acknowledge and 
            agree that IBM is not responsible for the availability of such external sites or resources, 
            and is not responsible or liable for any content, services, products, or other materials on 
            or available from those sites or resources. 
    @disclaimer
            (c) Copyright IBM Corp. 2007 All rights reserved. 
  			
            The following sample of source code ("Sample") is owned by International Business Machines 
            Corporation or one of its subsidiaries ("IBM") and is copyrighted and licensed, not sold. 
  			
            The Sample is not part of any standard IBM product. You may use, copy, modify, and distribute 
            the Sample in any form without payment to IBM, for the purpose of assisting you in the 
            development of your applications.
  			
            The Sample code is provided to you on an "AS IS" basis, without warranty of any kind. 
  
            IBM HEREBY EXPRESSLY DISCLAIMS ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT 
            LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. 
             
            Some jurisdictions do not allow for the exclusion or limitation of implied warranties, so the 
            above limitations or exclusions may not apply to you. IBM shall not be liable for any damages 
            you suffer as a result of using, copying, modifying or distributing the Sample, even if IBM 
            has been advised of the possibility of such damages.    
  -->
	<head>
		<title>DB2 Health Monitor Sample Application for PHP</title>
		<link rel="stylesheet" type="text/css" href="./nav.css"></link>
	</head>
	
	<body style="margin:0px">
		<table style="width:100%" cellspacing="0px" cellpadding="0px">
			<tr>
				<td rowspan="2" style="width:200px;background-image:url('./images/DB_nav_tile.gif');" valign="top"></td> 
				<td>
					<table style="width:100%" cellspacing="0" cellpadding="0">
		    			<tr class="bannerBG">
			  				<td>
								<img src="images/en_US/im_ban.bmp" alt="IBM Information Management" />
			  				</td>
			  				<td style="text-align:right">
								<img src="./images/FS_ban_IBMLogo.gif" alt="IBM" />
			  				</td>
		 				</tr>
					</table>
				</td>
			</tr>
			
  			<tr>
  				<td class="content">  
					<div class="content_width">
						<h1 class="head1">Handling Web Service Consumer and Producer Errors</h1>
						<br />
						
						<table cellspacing="0" cellpadding="0">
			  				<tr> 
								<td class="imageInText_placement">
									<img src="./images/header_Con_DataAcess2.gif" alt="welcome" />
								</td>
								<td class="tableText" style="padding-left:5px" valign="top">
									In the case of Service Oriented Architecture applications, it
									is both the responsibility of the 
									<a href="./architecture_files.html#WebServiceConsumer" class="solo">
										Web Service Consumer
									</a>
									and the
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a> 
									to ensure that all input received from external applications 
									(including each other) has been thoroughly checked for malicious content.  
									Even if performance is slightly affected, data integrity should be maintained at 
									all levels in case one component of the system is compromised.
									
									<br /><br />
									To ensure that both the
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>, and the 
									<a href="./architecture_files.html#WebServiceConsumer" class="solo">
										Web Service Consumer 
									</a>
									users are provided with thorough error reporting information, a custom error
									section was introduced into the 
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>
									XML schema as a method of passing error codes and messages throughout the system.
								</td>
			 				</tr>
						</table>
					
						<h1 class="head2green">XML Schema Error Format</h1>
						<p>
							An extra section for the DB2 XML health report 
							was created specifically for passing error codes and error messages
							from the 
							<a href="./architecture_files.html#WebServiceProducer" class="solo">
								Web Service Producer
							</a> 
							to the 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Web Service Consumer
							</a> 
							in a consistent format and for error logging purposes.
							
							<br /><br />
							The ErrorSet section, according to the health report XML schema and WSDL document,
							is always included in the health report and is structured as follows:
						</p>
<pre style="background-color:lightgreen">
&lt;ErrorSet&gt;
  &lt;SOA_ERROR_CODE&gt;&lt;/SOA_ERROR_CODE&gt;
  &lt;SOA_ERROR_MESSAGE&gt;&lt;/SQL_ERROR_MESSAGE&gt;
  &lt;SQL_ERROR_CODE&gt;&lt;/SQL_ERROR_CODE&gt;
  &lt;SQL_ERROR_MESSAGE&gt;&lt;/SQL_ERROR_MESSAGE&gt;
&lt;/ErrorSet&gt;
</pre>					
						<ul>
							<li>
								<b>SOA_ERROR_CODE</b> - An error code custom to the DB2 Health Monitor Sample Application
								for PHP.
							</li>
							<li>
								<b>SOA_ERROR_MESSAGE</b> - An error message custom to the DB2 Health Monitor Sample
								Application for PHP and corresponds with a specific SOA_ERROR_CODE.
							</li>
							<li>
								<b>SQL_ERROR_CODE</b> - An error code custom to DB2 software.
							</li>
							<li>
								<b>SQL_ERROR_MESSAGE</b> - An error message custom to DB2 software and 
								corresponds with a specific SQL_ERROR_CODE.
							</li>
						</ul>
						<p>
							Because these are errors, in the case of the 
							<a href="./architecture_files.html#WebServiceProducer" class="solo">
								Web Service Producer
							</a>
							it means that an error was encountered prior to building
							the XML health report or that the report could not be built at all.
							That being said, it is not the XQuery statement that generates the error codes and messages
							but rather a separate set of PHP classes.
						</p>
		
						<h1 class="head2green">Web Service Producer Error Handling</h1>
						<p>
							The 
							<a href="./architecture_files.html#class.db.error.php" class="solo">
								class.db.error.php
							</a> 
							class file represents a custom error object that will be created
							by the 
							<a href="./architecture_files.html#WebServiceProducerDB" class="solo">
								Web Service Producer DB
							</a> package should an error occur at any point during the input validation
							or construction phases of the XML health report.  Input validation is handled by the 
							<a href="./architecture_files.html#class.db.render.php" class="solo">
								class.db.render.php
							</a> 
							class using regular expressions.
							
							<br /><br />
							The XQuery statement that is run against the DB2 database does not add the ErrorSet
							section to the XML health report unless the XML health report generation was successful.
							
							<br /><br />
							<i>
								In all unsuccessful cases, if the XQuery statement is not adding error information 
								(because it failed to execute successfully), and if PHP does not alter the XML health 
								report document (because the document could not be created in the first place), how is 
								the XML health report with an ErrorSet section generated?
							</i>
							
							<br /><br />
							It is the custom error object that when created, internally stores a string representation
							of the XML health report with the correct ErrorSet information.  All that the error object,
							created from the 
							<a href="./architecture_files.html#class.db.error.php" class="solo">
								class.db.error.php
							</a> 
							class must ensure, is that it generates this XML health report with error information 
							according to the XML schema and WSDL document that corresponds with the Web service.
							
							<br /><br />
							<b>
								The Web Service Producer, as long as it is running, should always produce XML data 
								according to the WSDL document.  This will guarantee a consistent format for
								the data that is returned.
							</b>	
						</p>
						
						<h1 class="head2green">Web Service Producer Error Codes</h1>
						<p>
							A list of error codes, messages, and their causes have been listed below:
						</p>							
						<table>						
							<tr style="font-weight:bold">
								<td class="tableText" style="width:50px">Code</td>
								<td class="tableText" style="width:250px">Message</td>
								<td class="tableText" style="width:300px">Cause</td>
							</tr>
							<tr>
								<td class="tableText" valign="top">0</td>
								<td class="tableText" valign="top">The request was processed successfully</td>
								<td class="tableText">The XML health report was built.  The XQuery statement appended the
									ErrorSet section to the document with the corresponding error
									code and message for success.
								</td>
							</tr>
							<tr>
								<td class="tableText" valign="top">100</td>
								<td class="tableText" valign="top">Invalid Username Input Detected; Please check the entered 
												 username
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.db.render.php" class="solo">
										class.db.render.php
									</a>
									class.  The regular expression checks the length of the username and scans
									for invalid characters prior to sending it to the database.  		
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>
							<tr>
								<td class="tableText" valign="top">101</td>
								<td class="tableText" valign="top">Invalid Password Input Detected; Please check the entered 
												 password
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.db.render.php" class="solo">
										class.db.render.php
									</a>
									class.  The regular expression checks the length of the password and scans
									for invalid characters prior to sending it to the database. 		
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>								
							<tr>
								<td class="tableText" valign="top">102</td>
								<td class="tableText" valign="top">Invalid Database Name Input Detected; Please check the entered 
												 database name
								</td>
								<td class="tableText">
									This error results from the input validation in the
									<a href="./architecture_files.html#class.db.render.php" class="solo">
										class.db.render.php
									</a>
									class.  The regular expression checks the length of the database name 
									and scans for invalid characters prior to sending it to the database. 	
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>	
							<tr>
								<td class="tableText" valign="top">103</td>
								<td class="tableText" valign="top">Invalid Port Number Input Detected; Please check the entered port number
								</td>
								<td class="tableText">
									This error results from the input validation in the
									<a href="./architecture_files.html#class.db.render.php" class="solo">
										class.db.render.php
									</a>
									class.  The regular expression checks the length of the port number 
									and scans for invalid characters prior to sending it to the database. 
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>								
							<tr>
								<td class="tableText" valign="top">104</td>
								<td class="tableText" valign="top">Invalid Language Code Input Detected; Please check the entered 
												 language code
								</td>
								<td class="tableText">
									This error results from the input validation in the
									<a href="./architecture_files.html#class.db.render.php" class="solo">
										class.db.render.php
									</a>
									class.  The regular expression checks the length of the language code
									and scans for invalid characters prior to sending it to the database. 		
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>									
							<tr>
								<td class="tableText" valign="top">105</td>
								<td class="tableText" valign="top">Invalid Object Type Input Detected; Please contact the 
												 Web service administrator
								</td>
								<td class="tableText">
									This error results from the input validation in the
									<a href="./architecture_files.html#class.db.render.php" class="solo">
										class.db.render.php
									</a>
									class.  The regular expression checks the type flag passed into the requested
									service function.  While this is a parameter set by the Web service developer,
									it is checked for completeness.  Type values include: all,
									port, database, tablespace, and container.  									
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>		
							<tr>
								<td class="tableText" valign="top">106</td>
								<td class="tableText" valign="top">Invalid Health Definition Request Detected; Please check the 
												 entered definition request
								</td>
								<td class="tableText">
									This error results from the input validation in the
									<a href="./architecture_files.html#class.db.render.php" class="solo">
										class.db.render.php
									</a>							
									class.  The regular expression checks the defintion flag passed into the 
									requested service function.  It checks for a Boolean value to see if the
									user has requested health definitions or not. 									
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>								
							<tr class="tableText">
								<td class="tableText" valign="top">107</td>
								<td class="tableText" valign="top">Invalid Health Detail Request Detected; Please contact the 
												 Web service administrator
								</td>
								<td class="tableText">
									This error results from the input validation in the
									<a href="./architecture_files.html#class.db.render.php" class="solo">
										class.db.render.php
									</a>									
									class.  The regular expression checks the detail flag passed into the 
									requested service function.  It checks for a Boolean value to see if the
									user has requested health details or not. 									
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>											
							<tr>
								<td class="tableText" valign="top">108</td>
								<td class="tableText" valign="top">Invalid Health History Request Detected; Please constact 
												 the Web service administator
								</td>
								<td class="tableText">
									This error results from the input validation in the
									<a href="./architecture_files.html#class.db.render.php" class="solo">
										class.db.render.php
									</a>									
									class.  The regular expression checks the history flag passed into the 
									requested service function.  It checks for a Boolean value to see if the
									user has requested health history or not. 									
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>								
							<tr>
								<td class="tableText" valign="top">109</td>
								<td class="tableText" valign="top">Could not establish a connection to the specified Database
								</td>
								<td class="tableText">
									This error results from the 
									<a href="./architecture_files.html#class.db.worker.connection.php" class="solo">
										class.db.worker.connection.php
									</a>									
									class and occurs if a database connection could not be established.
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a>
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>									
							<tr>
								<td class="tableText" valign="top">110</td>
								<td class="tableText" valign="top">Failed to Prepare DB2 Query Statement; Please check 
												 query statement for errors
								</td>
								<td class="tableText">
									This error results from the 
									<a href="./architecture_files.html#class.db.worker.query.php" class="solo">
										class.db.worker.query.php
									</a>
									class and occurs if a query statement fails to be prepared.
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a> 
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>		
							<tr>
								<td class="tableText" valign="top">111</td>
								<td class="tableText" valign="top">Failed to Execute Desired Query Statement
								</td>
								<td class="tableText">
									This error results from the 
									<a href="./architecture_files.html#class.db.worker.query.php" class="solo">
										class.db.worker.query
									</a> 
									class and occurs if a query statement fails to execute against the database.
									The 
									<a href="./architecture_files.html#class.db.error.php" class="solo">
										class.db.error.php
									</a> 
									class generates the XML health report with the corresponding error information.
								</td>
							</tr>																		
						</table>						
						
						<h1 class="head2green">Web Service Consumer Error Handling</h1>
						<p>
							The 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Web Service Consumer
							</a> 
							plays a similar role in that all forms input are
							validated.  Firstly, all input, including URL parameters received from
							the login and health console pages, are evaluated by the 
							<a href="./architecture_files.html#class.client.validator.php" class="solo">
								class.client.validator.php
							</a> 
							class each time a request for health monitoring data is sent to the 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Web Service Consumer.
							</a> 
							Only once all input has been validated will the request be sent to the 
							<a href="./architecture_files.html#WebServiceProducer" class="solo">
								Web Service Producer
							</a>.
							
							<br /><br />
							Even the XML data received from the 
							<a href="./architecture_files.html#WebServiceProducer" class="solo">
								Web Service Producer
							</a>
							is validated since in a true SOA application, the producer and consumer are often 
							from different sources, therefore the data must be checked for malicious content.
							
							<br /><br />
							<i>
								However, what if an error occurs in the Web Service Consumer, such as failure
								to create a user session, bad input, or failure to contact the Web Service Producer?
							</i>
							
							<br /><br />
							A 
							<a href="./architecture_files.html#class.client.error.php" class="solo">
								class.client.error.php
							</a> 
							class was developed for the 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Web Service Consumer
							</a>
							, similar to that of the 
							<a href="./architecture_files.html#class.db.error.php" class="solo">
								class.db.error.php
							</a> 
							class for the 
							<a href="./architecture_files.html#WebServiceProducerDB" class="solo">
								Web Service Producer
							</a>.
						
							<br /><br />
							<b>
								The Web Service Consumer, as long as it is running, should always produce XML data 
								according to the WSDL document.  This will guarantee a consistent format for
								the data that is returned.
							</b>
						</p>
						
						<h1 class="head2green">Web Service Consumer Error Codes</h1>
						<p>
							A list of error codes, messages, and their causes have been listed for the 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Web Service Consumer
							</a>.  
							While the error codes are the same as those of the 
							<a href="./architecture_files.html#WebServiceProducer" class="solo">
								Web Service Producer
							</a>, the errors can be different, and therefore, each code is prefixed with the word &quot;Client&quot;
							in order to make the distinction.  The 
							<a href="./architecture_files.html#WebServiceProducer" class="solo">
								Web Service Producer
							</a> and 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Consumer
							</a>
							are generally operated by different organizations and therefore, it is possible for codes
							to overlap.
						</p>	
						<table>						
							<tr style="font-weight:bold">
								<td class="tableText" style="width:50px">Code</td>
								<td class="tableText" style="width:250px">Message</td>
								<td class="tableText" style="width:300px">Cause</td>
							</tr>
							<tr>
								<td class="tableText" valign="top">100</td>
								<td class="tableText" valign="top">Invalid Username Input Detected; Please check the entered 
												 username
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a>
									class.  The regular expression checks 
									the length of the username and scans for invalid characters prior to 
									sending it to the 
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>.  The 
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a>
									class generates the XML health report with the corresponding error information.										
								</td>
							</tr>
							<tr>
								<td class="tableText" valign="top">101</td>
								<td class="tableText" valign="top">Invalid Password Input Detected; Please check the 
												 entered password
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a>
									class.  The regular expression checks 
									the length of the password and scans for invalid characters prior to 
									sending it to the 
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>.  The 
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a>
									class generates the XML health report with the corresponding error information.										
								</td>
							</tr>								
							<tr>
								<td class="tableText" valign="top">102</td>
								<td class="tableText" valign="top">Invalid Database Name Input Detected; Please check the 
												 entered database name
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a>									
									class.  The regular expression checks 
									the length of the database name and scans for invalid characters prior to 
									sending it to the 
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>.  The 
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a>									
									class generates the XML health report with the corresponding error information.										
								</td>
							</tr>			
							<tr>
								<td class="tableText" valign="top">103</td>
								<td class="tableText" valign="top">Invalid Port Number Input Detected; Please check the entered port number
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a>										
									class.  The regular expression checks 
									the length of the port number and scans for invalid characters prior to 
									sending it to the 
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>.  The 									
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a>
									generates the XML health report with the corresponding error information.										
								</td>
							</tr>									
							<tr>
								<td class="tableText" valign="top">104</td>
								<td class="tableText" valign="top">Invalid Language Code Input Detected; 
												 Please check the entered language code
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a>										
									class.  The regular expression checks 
									the length of the language code and scans for invalid characters prior to 
									sending it to the 
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>.  The 									
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a>
									generates the XML health report with the corresponding error information.										
								</td>
							</tr>		
							<tr>
								<td class="tableText" valign="top">105</td>
								<td class="tableText" valign="top">Could Not Create SOAP Client for Web Service Communication; 
												 Please contact your local system administrator
								</td>
								<td class="tableText">
									This error results from not being able to create a SOAP client for
									consuming the Web service output.  Most likely the WSDL URL contained in the
									<a href="./architecture_files.html#config.xml" class="solo">
										config.xml
									</a>
									file or the SOAP server URL contained in the
									<a href="./architecture_files.html#DB2Health_Report.wsdl" class="solo">
										DB2Health_Report.wsdl
									</a>									
									file may be incorrect.  The 									
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a> 
									class generates the XML health report with the corresponding error information.										
								</td>
							</tr>												
							<tr>
								<td class="tableText" valign="top">106</td>
								<td class="tableText" valign="top">Invalid Web Service Function Request; 
												 Please contact your local system administrator
								</td>
								<td class="tableText">
									This error results from calling a non-existent 									
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a> 
									function.  The name of the function
									failed to pass the regular expression test in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a> 
									class.  This error can also
									result from an invalid request to the 									
									<a href="./architecture_files.html#WebServiceConsumer" class="solo">
										Web Service Consumer
									</a>.
									Most likely the name of the Web service function sent from the login page
									is incorrect.  The 									
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a>  
									class generates the XML health report with the corresponding error information.										
								</td>
							</tr>									
							<tr>
								<td class="tableText" valign="top">107</td>
								<td class="tableText" valign="top">Invalid Web Service Definition Request; 
												 Please contact your local system administrator
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a> 
									class.  The regular expression checks 
									for a Boolean flag in the URL of the aysnchronous request to the 
									<a href="./architecture_files.html#WebServiceConsumer" class="solo">
										Web Service Consumer
									</a>
									to see whether or not health definitions should be requested from the 
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>.  The 
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a> 
									class generates the XML health report with the corresponding error information.											
								</td>
							</tr>								
							<tr>
								<td class="tableText" valign="top">108</td>
								<td class="tableText" valign="top">Could Not Communicate with requested Web Service Function; 
												 The service may be down or experiencing difficulties	
								</td>
								<td class="tableText">
									This error occurs if a SOAP fault has occurred when the 		
									<a href="./architecture_files.html#WebServiceConsumer" class="solo">
										Web Service Consumer
									</a> 
									contacts the 									
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>.  The 
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a> 
									class generates the XML health report with the corresponding error information.											
								</td>
							</tr>												
							<tr>
								<td class="tableText" valign="top">109</td>
								<td class="tableText" valign="top">An Unknown Error Has Occurred; 
												 Please contact your local system administrator
								</td>
								<td class="tableText">
									If this error occurs, most likely, the 
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>
									output could not be received correctly and both a SOAP fault
									and an error have occurred.  Check to ensure that the entire
									SOA application is setup correctly.  The 
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a> 
									class generates the XML health report with the corresponding error information.											
								</td>
							</tr>								
							<tr>
								<td class="tableText" valign="top">110</td>
								<td class="tableText" valign="top">Invalid Web Service Output XML Received; 
												 Please contact your local system administrator
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a> 
									class.  A set of checks
									are performed against the XML health report received from the 
									<a href="./architecture_files.html#WebServiceProducer" class="solo">
										Web Service Producer
									</a>
									to ensure that it is in the format
									described by the WSDL document and that malicious content has not been added.  
									Some of the checks
									include: XML well-formedness, XML document size, XML nesting,
									embedded HTML tags, and XML schema conformation.  The
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a> 
									class generates the XML health report with the corresponding error information.											
								</td>
							</tr>													
							<tr>
								<td class="tableText" valign="top">111</td>
								<td class="tableText" valign="top">Invalid Web Service Consumer Configuration; 
												 Please contact your local system administrator
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a> 
									class.  The XML configuration
									file, <a href="./architecture_files.html#config.xml" class="solo">config.xml</a>, 
									for the
									<a href="./architecture_files.html#WebServiceConsumer" class="solo">
										Web Service Consumer
									</a> is not
									well-formed or does not conform to its XML schema.  The 
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a> 
									class generates the XML health report with the corresponding error information.											
								</td>
							</tr>		
							<tr>
								<td class="tableText" valign="top">112</td>
								<td class="tableText" valign="top">Invalid Logout Request; 
												 Please contact your local system administrator
								</td>
								<td class="tableText">
									This error results from the input validation in the 
									<a href="./architecture_files.html#class.client.validator.php" class="solo">
										class.client.validator.php
									</a> 
									class. Ensure that the logout request parameter has been appended to the URL 
									from the 
									<a href="./architecture_files.html#WebServiceConsumerGUI" class="solo">
									Web Service Consumer GUI
									</a>
									and that it has been appended in the correct order.  The 
									<a href="./architecture_files.html#class.client.error.php" class="solo">
										class.client.error.php
									</a> 
									class generates the XML health report with the corresponding error information.											
								</td>
							</tr>
						</table>
						
						<h1 class="head2green">Error Logging</h1>
						<p>
							Both the 
							<a href="./architecture_files.html#WebServiceProducer" class="solo">
								Web Service Producer
							</a>
							and 
							<a href="./architecture_files.html#WebServiceConsumer" class="solo">
								Consumer
							</a> 
							log all errors to disk on their respective servers, in their respective directories. 
							Each entry in the log is in the XML health report format with the corresponding error
							information.  For *Nix systems, proper permissions should be available to the
							script in order to create the log files.  It might be necessary to change the 
							location to which the log files are written depending on the level of security that is
							needed.
						</p>
						
    					<p class="cp">
    					<br />
    						&copy; Copyright IBM Corp. 2007. All rights reserved.
							IBM&reg;, the IBM logo, DB2&reg;, AIX&reg;, and pureXML&trade; are 
							registered trademarks of International Business Machines Corporation in the 
							United States, other countries, or both.

							Zend and Zend Core are registered trademarks of Zend Technologies Limited,
							in the United States, other countries, or both.
							
							Mozilla&reg; and Firefox&reg; are registered trademarks of the Mozilla Foundation in the
							United States and other countries.
							
							Microsoft, Windows, Windows NT, Internet Explorer&reg;, and the Windows logo are 
							trademarks of Microsoft Corporation in the United States, other countries, or
							both.
							
							Linux is a registered trademark of Linus Torvalds in the United
							States, other countries, or both.
							
							Other company, product, or service names
							may be trademarks or service marks of others.
						</p>						
					</div>
				</td>
			</tr>
		</table>
	
		<div class="navigation">
			<img src="images/FS_ban_mosaic.gif" alt="Data Management Mosiac imagery" />
    		<div class="container"> 
     			<div class="left-nav"> 
       				<div class="top-level"> 
        				<a href="./index.html">Welcome</a> 
        				<a href="./requirements.html">Requirements</a>
        				<a href="setup.html">Setup</a> 
          					<div class="second-level"> 
    							<a href="setup_database.html">Creating the Sample Database</a> 
		        				<a href="setup_php.html">Setting up PHP</a> 
          						<a href="setup_sample.html">Setting up the Sample</a> 
         						<a href="setup_testdb.html">Testing the Connection</a> 
         						<a href="setup_testservice.html">Testing the Service</a>        			           	          	
 		   					</div>		
		       			<a href="using.html">Using</a>
      	        		<div class="second-level"> 
	      	        		<a href="../SOADemo/index.html">DB2 Health Monitor Sample</a>         	          	
		       			</div>	 		   					
          				<a href="./architecture.html">Architecture</a> 
						<div class="second-level">           	
							<a href="./architecture_directory.html">Directory Structure</a>
		          			<a href="./architecture_files.html">File Breakdown</a> 
		          			<a href="./architecture_deploy.html">Deployment Models</a>
        		  			<a class="active" href="./architecture_errors.html">Error Handling</a> 
        		  			<a href="./architecture_widgets.html">JavaScript Widgets</a>          	
						</div>     					   		  	
          				<a href="lessons.html">Lessons Learned</a>       			
       				</div>
				</div>
			</div>
		</div>
	</body>
</html>